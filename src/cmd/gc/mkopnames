#!/bin/rc
# Copyright 2009 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

echo '// auto generated by mkopnames'
echo 'static char*'
echo 'opnames[] = '
echo '{'
sed -n '/OXXX/,/OEND/p' go.h |
	sed 's:\/\/.*::g
		s/,/\n/g
		s/[ 	]+//g
		s/^OEND$//g' |
	grep . |
	sort |
	sed 's/O//; s/.*/	[O&] =	"&",/' |
	sed 's/\[O[ 	]+/[O/g' |
	grep -v '\[O\]'
echo '};'

