#!/bin/rc
# Copyright 2009 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

echo '// auto generated by mkopnames'
echo 'static char*'
echo 'opnames[] = '
echo '{'
sed -n '/OXXX/,/OEND/p' go.h |
	cpp |
	sed 's!//.*!!; /^#/d'  |
	tr ' ' '
' |
	tr -d ' 	,' |
	grep . |
	sort |
	grep -v '^OEND$' |
	sed 's/O//; s/.*/	[O&] =	"&",/'
echo '};'

